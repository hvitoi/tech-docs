# Templates

## checkout

- <https://github.com/actions/checkout>
- Checkout the repository

```yaml
steps:
  - name: Checkout the repo!
    uses: actions/checkout@v3
```

## upload-artifact

- <https://github.com/actions/upload-artifact>

```yaml
- name: Upload package
  uses: actions/upload-artifact@v3
  with:
    name: built-packages
    path: ${{ github.workspace }}/*.pkg.tar.*
```

## github-script

- <https://github.com/actions/github-script>
- Run javascript code to fetch gh api

```yaml
- name: Verify PR number
  uses: actions/github-script@v5
  with:
    github-token: ${{ secrets.GITHUB_TOKEN }}
    result-encoding: string
    script: |
      const response = await github.rest.pulls.get({
        owner: context.repo.owner,
        repo: context. repo.repo,
        pull_number: ${{ github.event.inputs.PR_number }}
      });
    if (response.data.number !== ${{ github.events.inputs.PR_number }}) {
      throw new Error("Invalid PR");
    } else {
      console.log("PR ref: " + response.data.head.ref);
      return response.data.head.ref;
    }
```

```javascript
github.rest.issues.createComment({
  issue_number: ${{ github.event.inputs.PR_number }},
  owner: context.repo.owner,
  body: output
})

```

# Variables

## github

```yaml
# object with all the relevant information about the event (including its name)
# it is a json object
${{ github.event }}
${{ github.event.event.organisation.login }}
${{ github.event.event.repository.name }}
${{ github.event.event.issue.number }}
```

```yaml
${{ github.token }} # same as secrets.GITHUB_TOKEN ?
```

```yaml
${{ github.workspace }} # path of the workspace used for the job
```

```yaml
${{ github.ref }} # e.g., 'refs/heads/main'
```

## secrets

```yaml
# github token is filled automatically (available only for the duration of the run)
${{ secrets.GITHUB_TOKEN }}

# Custom secrets
${{ secrets.DOCKER_USERNAME }}
```

## env

- Objects under `env` can be defined by appending to the `$GITHUB_ENV` bash variables

```shell
echo "foo=yes" >> $GITHUB_ENV
echo "bar=no" >> $GITHUB_ENV
```

```yaml
${{ env.foo }}
```

## Helper functions

```yaml
# serialization
${{ toJSON(github.event) }}

# comparison
${{ env.foo == 'yes' }}
${{ env.foo == 'yes' && env.bar == 'no' }}

# contains
${{ contains(github.event.head_commit.message, '[no rel]') }}

# not
${{ !contains(github.event.head_commit.message, '[no build]') }} # the commit doesn't have a build
```
